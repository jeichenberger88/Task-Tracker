import{Ca as l,Da as s,Ea as i,Ga as u,Ha as k,Ia as o,Ja as x,La as f,Ma as d,Oa as T,Sa as b,Ta as M,Ua as h,V as m,W as p,db as P,eb as O,fb as y,gb as E,ka as r,kb as w,lb as S,mb as I,na as v,ob as V,ra as C,rb as L,sb as D,ta as g}from"./chunk-D3KTWDSG.js";function z(e,n){e&1&&(s(0,"span",16),d(1,"\u2713"),i())}function N(e,n){if(e&1){let t=u();s(0,"div",9)(1,"button",10),k("click",function(){m(t);let a=o().$implicit,_=o(2);return p(_.toggleTask(a))}),g(2,z,2,0,"span",11),i(),s(3,"span",12),b(4,"date"),k("dblclick",function(){m(t);let a=o().$implicit,_=o(2);return p(_.startEditing(a))}),d(5),i(),s(6,"div",13)(7,"button",14),k("click",function(){m(t);let a=o().$implicit,_=o(2);return p(_.startEditing(a))}),d(8," \u270F\uFE0F "),i(),s(9,"button",15),k("click",function(){m(t);let a=o().$implicit,_=o(2);return p(_.deleteTask(a))}),d(10," \u274C "),i()()()}if(e&2){let t=o().$implicit;r(),f("checked",t.completed),l("title",t.completed?"Mark as active":"Mark as completed"),r(),l("ngIf",t.completed),r(),l("title","Double-click to edit. Created: "+M(4,6,t.createdAt,"medium")),r(2),T(" ",t.title," ")}}function $(e,n){if(e&1){let t=u();s(0,"div",17)(1,"input",18,1),k("keydown",function(a){m(t);let _=o(3);return p(_.onEditKeydown(a))})("blur",function(){m(t);let a=o(3);return p(a.saveEdit())}),i(),s(3,"div",19)(4,"button",20),k("click",function(){m(t);let a=o(3);return p(a.saveEdit())}),d(5,"\u2705"),i(),s(6,"button",21),k("click",function(){m(t);let a=o(3);return p(a.cancelEditing())}),d(7,"\u274C"),i()()()}if(e&2){let t=o(3);r(),l("formControl",t.editControl)}}function B(e,n){if(e&1&&(s(0,"div",6),g(1,N,11,9,"div",7)(2,$,8,1,"div",8),i()),e&2){let t=n.$implicit,c=o(2);f("completed",t.completed),r(),l("ngIf",c.editingTaskId!==t.id),r(),l("ngIf",c.editingTaskId===t.id)}}function A(e,n){if(e&1&&(s(0,"div",4),g(1,B,3,4,"div",5),i()),e&2){let t=o();r(),l("ngForOf",t.taskService.filteredTasks())("ngForTrackBy",t.trackByTaskId)}}function K(e,n){e&1&&(s(0,"p"),d(1," All tasks are completed! \u{1F389} "),i())}function j(e,n){e&1&&(s(0,"p"),d(1," No completed tasks yet. "),i())}function R(e,n){e&1&&(s(0,"p"),d(1," Add your first task above to get started. "),i())}function q(e,n){if(e&1&&(s(0,"div",22)(1,"div",23),d(2,"\u{1F4CB}"),i(),s(3,"h3"),d(4,"No tasks found"),i(),g(5,K,2,0,"p",24)(6,j,2,0,"p",24)(7,R,2,0,"p",24),i()),e&2){let t=o();r(5),l("ngIf",t.taskService.filterSignal()==="active"),r(),l("ngIf",t.taskService.filterSignal()==="completed"),r(),l("ngIf",t.taskService.filterSignal()==="all")}}var F=class e{constructor(n){this.taskService=n}editingTaskId=null;editControl=new I("");startEditing(n){this.editingTaskId=n.id,this.editControl.setValue(n.title)}cancelEditing(){this.editingTaskId=null,this.editControl.setValue("")}saveEdit(){this.editingTaskId&&this.editControl.value?.trim()&&(this.taskService.updateTask(this.editingTaskId,this.editControl.value.trim()),this.cancelEditing())}onEditKeydown(n){n.key==="Enter"?this.saveEdit():n.key==="Escape"&&this.cancelEditing()}toggleTask(n){this.taskService.toggleTask(n.id)}deleteTask(n){confirm(`Delete "${n.title}"?`)&&this.taskService.deleteTask(n.id)}trackByTaskId(n,t){return t.id}static \u0275fac=function(t){return new(t||e)(v(D))};static \u0275cmp=C({type:e,selectors:[["app-task-list"]],decls:4,vars:2,consts:[["noTasks",""],["editInput",""],[1,"task-list-container"],["class","tasks",4,"ngIf","ngIfElse"],[1,"tasks"],["class","task-item",3,"completed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"task-item"],["class","task-content",4,"ngIf"],["class","task-edit",4,"ngIf"],[1,"task-content"],[1,"toggle-button",3,"click","title"],["class","checkmark",4,"ngIf"],[1,"task-title",3,"dblclick","title"],[1,"task-actions"],["title","Edit task",1,"edit-button",3,"click"],["title","Delete task",1,"delete-button",3,"click"],[1,"checkmark"],[1,"task-edit"],["type","text",1,"edit-input",3,"keydown","blur","formControl"],[1,"edit-actions"],["title","Save",1,"save-button",3,"click"],["title","Cancel",1,"cancel-button",3,"click"],[1,"no-tasks"],[1,"no-tasks-icon"],[4,"ngIf"]],template:function(t,c){if(t&1&&(s(0,"div",2),g(1,A,2,2,"div",3)(2,q,8,3,"ng-template",null,0,h),i()),t&2){let a=x(3);r(),l("ngIf",c.taskService.filteredTasks().length>0)("ngIfElse",a)}},dependencies:[E,P,O,L,w,S,V,y],styles:[".task-list-container[_ngcontent-%COMP%]{padding:1rem;min-height:200px}.tasks[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.task-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem;background:#fafafa;border-radius:8px;transition:all .3s ease}.task-item[_ngcontent-%COMP%]:hover{background:#f0f0f0;transform:translate(4px)}.task-item.completed[_ngcontent-%COMP%]{opacity:.7}.task-item.completed[_ngcontent-%COMP%]   .task-title[_ngcontent-%COMP%]{text-decoration:line-through;color:#888}.task-content[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;gap:1rem}.toggle-button[_ngcontent-%COMP%]{width:24px;height:24px;border:2px solid #667eea;border-radius:50%;background:transparent;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .3s ease;flex-shrink:0}.toggle-button[_ngcontent-%COMP%]:hover{border-color:#5a6fd8;transform:scale(1.1)}.toggle-button.checked[_ngcontent-%COMP%]{background:#667eea;color:#fff}.checkmark[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.task-title[_ngcontent-%COMP%]{flex:1;font-size:1rem;line-height:1.4;cursor:text;word-break:break-word}.task-title[_ngcontent-%COMP%]:hover{color:#667eea}.task-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;opacity:0;transition:opacity .3s ease}.task-item[_ngcontent-%COMP%]:hover   .task-actions[_ngcontent-%COMP%]{opacity:1}.edit-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%], .save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:.25rem;border-radius:4px;transition:all .3s ease;font-size:.9rem}.edit-button[_ngcontent-%COMP%]:hover, .delete-button[_ngcontent-%COMP%]:hover, .save-button[_ngcontent-%COMP%]:hover, .cancel-button[_ngcontent-%COMP%]:hover{background:#0000001a;transform:scale(1.1)}.task-edit[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;gap:.5rem}.edit-input[_ngcontent-%COMP%]{flex:1;padding:.5rem;border:2px solid #667eea;border-radius:4px;font-size:1rem;background:#fff}.edit-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#5a6fd8;box-shadow:0 0 0 3px #667eea1a}.edit-actions[_ngcontent-%COMP%]{display:flex;gap:.25rem}.no-tasks[_ngcontent-%COMP%]{text-align:center;padding:3rem 1rem;color:#888}.no-tasks[_ngcontent-%COMP%]   .no-tasks-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem}.no-tasks[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-weight:500}.no-tasks[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem}@media (max-width: 640px){.task-list-container[_ngcontent-%COMP%]{padding:.5rem}.task-item[_ngcontent-%COMP%]{padding:.75rem}.task-title[_ngcontent-%COMP%]{font-size:.9rem}.task-actions[_ngcontent-%COMP%]{opacity:1}.no-tasks[_ngcontent-%COMP%]{padding:2rem .5rem}.no-tasks[_ngcontent-%COMP%]   .no-tasks-icon[_ngcontent-%COMP%]{font-size:3rem}}"]})};export{F as TaskListComponent};
